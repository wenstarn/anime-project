{"ast":null,"code":"import React,{Component}from\"react\";import'./anime-header.css';import withAnimeService from\"../hoc\";import{connect}from\"react-redux\";import{animeSearchListRequested,animeSearchListLoaded,animeSearchListClear,makeListVisible,makeListInvisible}from'../../actions';import{Link}from\"react-router-dom\";import{withRouter}from\"react-router\";import store from\"../../store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AnimeHeader=function AnimeHeader(_ref){var animeService=_ref.animeService,animeSearchListRequested=_ref.animeSearchListRequested,animeSearchListLoaded=_ref.animeSearchListLoaded,animeSearchListClear=_ref.animeSearchListClear,makeListVisible=_ref.makeListVisible,history=_ref.history,makeListInvisible=_ref.makeListInvisible;return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark  sticky-top\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"#\",children:\"Anime\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return makeListInvisible();},className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarTogglerDemo02\",\"aria-controls\":\"navbarTogglerDemo02\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo02\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link\",to:\"/animes\",children:[\"Ongoings\",/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"(current)\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/myList\",children:\"My list\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link disabled\",href:\"#\",children:\"Games\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"search-form form-inline my-2 my-lg-0\",style:{zIndex:'99999'},action:\"/animes\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control mr-sm-2\",type:\"search\",placeholder:\"Search\",onClick:searchClick(makeListVisible),onInput:searchAnimes(animeService,animeSearchListRequested,animeSearchListLoaded,animeSearchListClear,makeListVisible),name:\"search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light my-2 my-sm-0\",type:\"button\",onClick:pushSearchButton(history),children:\"Search\"})]})]})]});};var pushSearchButton=function pushSearchButton(history){return function(event){var value=document.querySelector('.search-form').children[0].value;history.push(\"/animes?search=\".concat(value));};};var searchAnimes=function searchAnimes(animeService,request,loading,clearing,visible){return function(event){visible();if(event.target.value.length===0){clearing();}else{request();animeService.searchAnimes(event.target.value).then(function(res){return loading(res);});}};};//Make refactoring \nvar searchClick=function searchClick(visible){return function(event){var form=document.querySelector('.search-form');var nav=document.querySelector('nav');var searchList=document.querySelector('.search-list');visible();searchList.style.width=window.getComputedStyle(form).getPropertyValue(\"width\");searchList.style.top=window.getComputedStyle(nav).getPropertyValue(\"height\");searchList.style.right=window.getComputedStyle(nav).getPropertyValue(\"padding-right\");};};var shift=false;window.addEventListener(\"resize\",function(event){var form=document.querySelector('.search-form');var nav=document.querySelector('nav');var toggle=document.querySelector('.navbar-toggler');if(window.getComputedStyle(toggle).getPropertyValue(\"display\")!='none'&&shift===false){store.dispatch(makeListInvisible());shift=true;}if(window.getComputedStyle(toggle).getPropertyValue(\"display\")!='block'&&shift===true){store.dispatch(makeListInvisible());shift=false;}var searchList=document.querySelector('.search-list');searchList.style.width=window.getComputedStyle(form).getPropertyValue(\"width\");searchList.style.top=window.getComputedStyle(nav).getPropertyValue(\"height\");searchList.style.right=window.getComputedStyle(nav).getPropertyValue(\"padding-right\");},false);//Make refactoring \nvar actions={animeSearchListRequested:animeSearchListRequested,animeSearchListLoaded:animeSearchListLoaded,animeSearchListClear:animeSearchListClear,makeListVisible:makeListVisible,makeListInvisible:makeListInvisible};export default withRouter(withAnimeService()(connect(null,actions)(AnimeHeader)));","map":{"version":3,"sources":["/Users/aleksandrgolomazov/anime-project/src/components/anime-header/anime-header.js"],"names":["React","Component","withAnimeService","connect","animeSearchListRequested","animeSearchListLoaded","animeSearchListClear","makeListVisible","makeListInvisible","Link","withRouter","store","AnimeHeader","animeService","history","zIndex","searchClick","searchAnimes","pushSearchButton","event","value","document","querySelector","children","push","request","loading","clearing","visible","target","length","then","res","form","nav","searchList","style","width","window","getComputedStyle","getPropertyValue","top","right","shift","addEventListener","toggle","dispatch","actions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './anime-header.css'\nimport withAnimeService from \"../hoc\";\nimport { connect } from \"react-redux\";\nimport {\n    animeSearchListRequested, animeSearchListLoaded, animeSearchListClear,\n    makeListVisible, makeListInvisible\n} from '../../actions'\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport store from \"../../store\";\n\n\nconst AnimeHeader = ({ animeService, animeSearchListRequested, animeSearchListLoaded,\n    animeSearchListClear, makeListVisible, history, makeListInvisible }) => {\n    return (\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark  sticky-top\">\n            <a className=\"navbar-brand\" href=\"#\">Anime</a>\n            <button onClick={() => makeListInvisible()} className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n                <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/animes\">Ongoings<span class=\"sr-only\">(current)</span></Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/myList\">My list</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link disabled\" href=\"#\">Games</Link>\n                    </li>\n                </ul>\n                <form className=\"search-form form-inline my-2 my-lg-0\" style={{ zIndex: '99999' }} action=\"/animes\">\n                    <input className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\"\n                        onClick={searchClick(makeListVisible)} onInput={searchAnimes(animeService,\n                            animeSearchListRequested, animeSearchListLoaded, animeSearchListClear,\n                            makeListVisible)} name=\"search\" />\n                    <button className=\"btn btn-outline-light my-2 my-sm-0\" type=\"button\" onClick={pushSearchButton(history)}  >Search</button>\n                </form>\n            </div >\n        </nav >\n    )\n}\n\nconst pushSearchButton = (history) => (event) => {\n    const value = document.querySelector('.search-form').children[0].value;\n    history.push(`/animes?search=${value}`);\n\n}\n\nconst searchAnimes = (animeService, request, loading, clearing, visible) => (event) => {\n    visible();\n    if (event.target.value.length === 0) {\n        clearing();\n    }\n    else {\n        request();\n        animeService.searchAnimes(event.target.value).then(res => loading(res))\n    }\n}\n\n//Make refactoring \n\nconst searchClick = (visible) => (event) => {\n    const form = document.querySelector('.search-form');\n    const nav = document.querySelector('nav');\n    const searchList = document.querySelector('.search-list');\n\n    visible();\n    searchList.style.width = window.getComputedStyle(form).getPropertyValue(\"width\")\n    searchList.style.top = window.getComputedStyle(nav).getPropertyValue(\"height\")\n    searchList.style.right = window.getComputedStyle(nav).getPropertyValue(\"padding-right\")\n\n}\n\nlet shift = false;\nwindow.addEventListener(`resize`, event => {\n\n    const form = document.querySelector('.search-form')\n    const nav = document.querySelector('nav');\n    const toggle = document.querySelector('.navbar-toggler');\n    if (window.getComputedStyle(toggle).getPropertyValue(\"display\") != 'none' && shift === false) {\n        store.dispatch(makeListInvisible())\n        shift = true;\n    }\n\n    if (window.getComputedStyle(toggle).getPropertyValue(\"display\") != 'block' && shift === true) {\n        store.dispatch(makeListInvisible())\n        shift = false;\n    }\n    const searchList = document.querySelector('.search-list');\n    searchList.style.width = window.getComputedStyle(form).getPropertyValue(\"width\")\n    searchList.style.top = window.getComputedStyle(nav).getPropertyValue(\"height\")\n    searchList.style.right = window.getComputedStyle(nav).getPropertyValue(\"padding-right\")\n}, false);\n\n\n\n//Make refactoring \n\nconst actions = {\n    animeSearchListRequested, animeSearchListLoaded,\n    animeSearchListClear, makeListVisible, makeListInvisible\n}\n\nexport default withRouter(withAnimeService()(connect(null, actions)(AnimeHeader)));\n\n"]},"metadata":{},"sourceType":"module"}